using System;
using System.Collections.Generic;
using System.ComponentModel;
using System.Drawing;
using System.Data;
using System.Linq;
using System.Text;
using System.Threading.Tasks;
using System.Windows.Forms;
using Newtonsoft.Json.Linq;
using System.IO;
using LumenWorks.Framework.IO.Csv;
namespace Antivirus
{
    public partial class MaliciousURL : UserControl
    {
        public MaliciousURL()
        {
            InitializeComponent();
        }

        private void MaliciousURL_Load(object sender, EventArgs e)
        {
            JObject urlData = JObject.Parse(File.ReadAllText("D:\\College\\BE\\ZecurePlus\\ML\\chrome_extension\\logs\\track.json")); //anish path
            this.totalSitesTracked.Text = urlData.GetValue("sites_tracked").ToString();
            this.maliciousPageDetected.Text = urlData.GetValue("sites_blocked").ToString();
            //D:\\College\\BE\\ZecurePlus\\ML\\chrome_extension\\logs\\count.csv
            var column1 = new List<string>();
            var column2 = new List<string>();
            using (var rd = new StreamReader("D:\\College\\BE\\ZecurePlus\\ML\\chrome_extension\\logs\\count.csv"))
            {
                while (!rd.EndOfStream)
                {
                    var splits = rd.ReadLine().Split(',');
                    column1.Add(splits[0]);
                    
                }
            }

            this.website1.Text = column1[1].ToString();
            this.website2.Text = column1[2].ToString();
            this.website3.Text = column1[3].ToString();
            this.website4.Text = column1[4].ToString();
            this.website5.Text = column1[5].ToString();
            /*Console.WriteLine("Column 1:");
            foreach (var element in column1)
                Console.WriteLine(element);*/
        }

        private void label1_Click(object sender, EventArgs e)
        {

        }

        private void panel1_Paint(object sender, PaintEventArgs e)
        {

        }

        private void panel2_Paint(object sender, PaintEventArgs e)
        {

        }

        private void button1_Click(object sender, EventArgs e)
        {
            System.Diagnostics.Process.Start("https://chrome.google.com/webstore/category/extensions");
        }

        private void totalSitesTracked_Click(object sender, EventArgs e)
        {

        }
    }
}
